(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["TouristSight"],{"4d0e":function(e,t,n){},"588e":function(e,t,n){"use strict";n.r(t);var a=n("c76e"),c=n("d529"),r=n("d95a"),u=n("a1b0"),o=n("7a23"),l=Object(o["createTextVNode"])("台灣的各個美景，都美不勝收。"),i=Object(o["createElementVNode"])("br",null,null,-1),s=Object(o["createTextVNode"])("等你一同來發現這座寶島的奧妙！"),b={key:1,class:"no-data"};function d(e,t,n,d,h,g){var v=u["a"],O=r["a"],f=c["a"],j=Object(o["resolveComponent"])("MainCardsListLayout"),p=a["a"];return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(j,null,{header:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{onSearch:e.handleSearch},null,8,["onSearch"])]})),title:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.currentCity)+"景點",1)]})),description:Object(o["withCtx"])((function(){return[l,i,s]})),card:Object(o["withCtx"])((function(){var t;return[(null===(t=e.currentPageResult)||void 0===t?void 0:t.length)>0?(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],{key:0},Object(o["renderList"])(e.currentPageResult,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])(O,{spot:t,key:t.ID,onOpen:e.openDetail},null,8,["spot","onOpen"])})),128)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",b,"查無相關資料"))]})),footer:Object(o["withCtx"])((function(){return[0!==e.totalPages?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:0,currentPage:e.currentPage,totalPages:e.totalPages,onChange:e.handlePageChange},null,8,["currentPage","totalPages","onChange"])):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(p,{modelValue:e.isShowDetail,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.isShowDetail=t}),scenticDetail:e.scenticDetail},null,8,["modelValue","scenticDetail"])],64)}var h=n("9ab4"),g=n("a30b"),v=n("92dc"),O=n("cc0d"),f=n("6c02"),j=Object(o["defineComponent"])({name:"TouristSight",components:{MainCardsListLayout:g["a"]},setup:function(){var e=this,t=Object(f["c"])(),n=Object(o["ref"])(!1),a=Object(o["ref"])(null),c=Object(o["ref"])([]),r=Object(o["ref"])(""),u=9,l=Object(o["ref"])(1),i=Object(o["ref"])(0),s=Object(o["ref"])(null),b=function(e){n.value=!0,a.value=e},d=function(e){O["c"].forEach((function(t){t.value===e&&(r.value=t.name),e||(r.value="全臺")}))},g=function(t,n){return Object(h["b"])(e,void 0,void 0,(function(){var e,a,r,u,o;return Object(h["c"])(this,(function(l){switch(l.label){case 0:return l.trys.push([0,10,,11]),t?[3,5]:[4,v["a"].getAllScenicSpots(300)];case 1:return e=l.sent(),e?n&&"所有類別"!==n?[3,3]:(a=c,[4,e.data]):[3,4];case 2:return a.value=l.sent(),[2];case 3:n&&e.data.forEach((function(e){var t;e.Class1&&e.Class1.toString()===n&&(null===(t=c.value)||void 0===t||t.push(e))})),l.label=4;case 4:return[2];case 5:return[4,v["a"].getOneCityScenicSpots(t)];case 6:return r=l.sent(),r?n&&"所有類別"!==n?[3,8]:(u=c,[4,r.data]):[3,9];case 7:return u.value=l.sent(),[2];case 8:n&&r.data.forEach((function(e){var t;e.Class1&&e.Class1.toString()===n&&(null===(t=c.value)||void 0===t||t.push(e))})),l.label=9;case 9:return[3,11];case 10:return o=l.sent(),console.log(o),[3,11];case 11:return[2]}}))}))},j=function(){var e;c.value&&(i.value=Math.ceil((null===(e=c.value)||void 0===e?void 0:e.length)/u))},p=function(){var e;if(c.value){var t=l.value*u,n=t-u;s.value=null===(e=c.value)||void 0===e?void 0:e.slice(n,t)}},C=function(e){l.value=e,p()},P=function(t){return Object(h["b"])(e,void 0,void 0,(function(){var e,n;return Object(h["c"])(this,(function(a){switch(a.label){case 0:return e=t.location,n=t.subCategory,d(e),[4,g(e,n)];case 1:return a.sent(),[4,j()];case 2:return a.sent(),[4,p()];case 3:return a.sent(),[2]}}))}))};return{route:t,currentPageResult:s,currentCity:r,totalPages:i,currentPage:l,isShowDetail:n,scenticDetail:a,openDetail:b,getCitySights:g,getCityText:d,getTotalPages:j,getCurrentPageResult:p,handlePageChange:C,handleSearch:P,searchResult:c}},created:function(){return Object(h["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(h["c"])(this,(function(a){switch(a.label){case 0:return[4,this.$route.params];case 1:return e=a.sent(),t=e.location,n=e.subCategory,[4,this.getCityText(t)];case 2:return a.sent(),[4,this.getCitySights(t,n)];case 3:return a.sent(),[4,this.getTotalPages()];case 4:return a.sent(),[4,this.getCurrentPageResult()];case 5:return a.sent(),[2]}}))}))}}),p=(n("a006"),n("6b0d")),C=n.n(p);const P=C()(j,[["render",d]]);t["default"]=P},a006:function(e,t,n){"use strict";n("4d0e")}}]);
//# sourceMappingURL=TouristSight.b76a109f.js.map