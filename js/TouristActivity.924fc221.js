(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["TouristActivity"],{"18b5":function(e,t,n){},"6cd8":function(e,t,n){"use strict";n("18b5")},9079:function(e,t,n){"use strict";n.r(t);var c=n("c76e"),a=n("d529"),r=n("d95a"),u=n("a1b0"),o=n("7a23"),i=Object(o["createTextVNode"])("台灣的各個美景，都美不勝收。"),l=Object(o["createElementVNode"])("br",null,null,-1),s=Object(o["createTextVNode"])("等你一同來發現這座寶島的奧妙！"),b={key:1,class:"no-data"};function d(e,t,n,d,v,h){var O=u["a"],f=r["a"],g=a["a"],j=Object(o["resolveComponent"])("MainCardsListLayout"),C=c["a"];return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(j,null,{header:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{onSearch:e.handleSearch},null,8,["onSearch"])]})),title:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.currentCity)+"景點",1)]})),description:Object(o["withCtx"])((function(){return[i,l,s]})),card:Object(o["withCtx"])((function(){var t;return[(null===(t=e.currentPageResult)||void 0===t?void 0:t.length)>0?(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],{key:0},Object(o["renderList"])(e.currentPageResult,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])(f,{spot:t,key:t.ID,onOpen:e.openDetail},null,8,["spot","onOpen"])})),128)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",b,"查無相關資料"))]})),footer:Object(o["withCtx"])((function(){return[0!==e.totalPages?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:0,currentPage:e.currentPage,totalPages:e.totalPages,onChange:e.handlePageChange},null,8,["currentPage","totalPages","onChange"])):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(C,{modelValue:e.isShowDetail,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.isShowDetail=t}),scenticDetail:e.scenticDetail},null,8,["modelValue","scenticDetail"])],64)}var v=n("9ab4"),h=n("a30b"),O=n("92dc"),f=n("cc0d"),g=n("6c02"),j=Object(o["defineComponent"])({name:"TouristActivity",components:{MainCardsListLayout:h["a"]},setup:function(){var e=this,t=Object(g["c"])(),n=Object(o["ref"])(!1),c=Object(o["ref"])(null),a=Object(o["ref"])([]),r=Object(o["ref"])(""),u=9,i=Object(o["ref"])(1),l=Object(o["ref"])(0),s=Object(o["ref"])(null),b=function(e){n.value=!0,c.value=e},d=function(e){f["c"].forEach((function(t){t.value===e&&(r.value=t.name),e||(r.value="全臺")}))},h=function(t,n){return Object(v["b"])(e,void 0,void 0,(function(){var e,c,r,u,o;return Object(v["c"])(this,(function(i){switch(i.label){case 0:return i.trys.push([0,10,,11]),t?[3,5]:[4,O["a"].getAllActivities()];case 1:return e=i.sent(),e?n&&"所有類別"!==n?[3,3]:(c=a,[4,e.data]):[3,4];case 2:return c.value=i.sent(),[2];case 3:n&&e.data.forEach((function(e){var t;e.Class1&&e.Class1.toString()===n&&(null===(t=a.value)||void 0===t||t.push(e))})),i.label=4;case 4:return[2];case 5:return[4,O["a"].getOneCityActivities(t)];case 6:return r=i.sent(),r?n&&"所有類別"!==n?[3,8]:(u=a,[4,r.data]):[3,9];case 7:return u.value=i.sent(),[2];case 8:n&&r.data.forEach((function(e){var t;e.Class1&&e.Class1.toString()===n&&(null===(t=a.value)||void 0===t||t.push(e))})),i.label=9;case 9:return[3,11];case 10:return o=i.sent(),console.log(o),[3,11];case 11:return[2]}}))}))},j=function(){var e;a.value&&(l.value=Math.ceil((null===(e=a.value)||void 0===e?void 0:e.length)/u))},C=function(){var e;if(a.value){var t=i.value*u,n=t-u;s.value=null===(e=a.value)||void 0===e?void 0:e.slice(n,t)}},p=function(e){i.value=e,C()},y=function(t){return Object(v["b"])(e,void 0,void 0,(function(){var e,n;return Object(v["c"])(this,(function(c){switch(c.label){case 0:return e=t.location,n=t.subCategory,d(e),[4,h(e,n)];case 1:return c.sent(),[4,j()];case 2:return c.sent(),[4,C()];case 3:return c.sent(),[2]}}))}))};return{route:t,currentPageResult:s,currentCity:r,totalPages:l,currentPage:i,isShowDetail:n,scenticDetail:c,openDetail:b,getCityActivities:h,getCityText:d,getTotalPages:j,getCurrentPageResult:C,handlePageChange:p,handleSearch:y,searchResult:a}},created:function(){return Object(v["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(v["c"])(this,(function(c){switch(c.label){case 0:return[4,this.$route.params];case 1:return e=c.sent(),t=e.location,n=e.subCategory,[4,this.getCityText(t)];case 2:return c.sent(),[4,this.getCityActivities(t,n)];case 3:return c.sent(),[4,this.getTotalPages()];case 4:return c.sent(),[4,this.getCurrentPageResult()];case 5:return c.sent(),[2]}}))}))}}),C=(n("6cd8"),n("6b0d")),p=n.n(C);const y=p()(j,[["render",d]]);t["default"]=y}}]);
//# sourceMappingURL=TouristActivity.924fc221.js.map